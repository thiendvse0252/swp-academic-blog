<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="src/blogDetail.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="shortcut icon" type="image/png" href="./img/Logo.png" />
    <title>Academic blog at FPT University</title>
</head>

<body>
    <!-- Header  -->
    <header class="flex items-center justify-between w-full bg-black text-white p-1" id="header">
        <div class="flex items-center" id="taskbar">
            <!-- <a href="/home.html" class="items-start justify-center">
                <img src=" ./img/Logo.png" alt="logo" class="w-16 h-auto">
            </a> -->
            
            <a href="/home2.html" class="p-logo" style="font-size: 35px; font-weight: 700; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: bisque; margin-right: 10px;">
                FPT BLOG
            </a>

            <a href="create.html" class="p-2" style="border-left: 1px solid white;">
                New Post
            </a>

            <a href="bestartice.html" class="p-2">
                Best Article
            </a>

            <a href="teacherPage.html" class="p-2" id="teacherPage">
                Post Request
            </a>

            <a href="/giveAward.html" class="p-2" id="teacherPage2">
                Give Award
            </a>
        </div>

        <!-- User Profile -->
        <div class="p-1">

            <div class="flex items-center justify-center">
                <div class="mx-5">
                    <a href="profile.html" class="mx-5">
                    <img src="https://www.pngitem.com/pimgs/m/375-3757223_free-icon-download-people-avatar-icon-transparent-background.png"
                        alt="logo" class="w-10 h-10 rounded-full cursor-pointer hover:scale-110">
                    </a>
                </div>

                <div class="pr-2">

                    <div class="cursor-pointer">
                        <a href="/login.html">Log Out</a>
                    </div>

                </div>
            </div>
        </div>

        <script>
            var prevScrollPos = window.pageYOffset;
            var header = document.getElementById("header");
    
            window.onscroll = function() {
                var currentScrollPos = window.pageYOffset;
                
                if (prevScrollPos > currentScrollPos) {
                    // Scrolling up
                    header.style.top = "0";
                } else {
                    // Scrolling down
                    header.style.top = "-100px"; // Adjust the value based on your header height
                }
    
                prevScrollPos = currentScrollPos;
            }
        </script>
    </header>

    <!-- Main  -->
    <Main>
        <div class="wapper-title" id="detail">
            <!-- Title -->
            <div class="column">
                <div class="mr-7" id="postTitle"></div>
            </div>

            <!-- ByUser DateTime NumberRead -->
            <div class="column" style="background-color: white; font-size: 16px; font-weight: 500;">

                <!-- Data For NumberRead NumberVote -->
                <!-- <div id="postTag"></div> -->

                <div class="inner-column">
                    <div class="container-user" title="Name Users">
                        <div class="by-user">
                            <i class="fa-solid fa-user fa-sm" style="color: #000000;"></i>
                        </div>
                        <div class="by-user" id="postAuthor">
                            <!-- By User -->
                        </div>
                    </div>
                </div>

                <div class="inner-column">
                    <div class="container-datetime" title="Date Time">
                        <div class="date-time">
                            <i class="fa-regular fa-calendar-days" style="color: #000000;"></i>
                        </div>
                        <div class="date-time" id="postDate">
                            <!-- Date Time -->
                        </div>
                    </div>
                </div>

                <div class="inner-column">
                    <div class="container-read" title="Reading Time">
                        <div class="number-read">
                            <i class="fa-regular fa-clock" style="color: #000000;"></i>
                        </div>
                        <div class="number-read" id="readingTime">
                            <!-- Times Read -->
                        </div>
                    </div>
                </div>

                <div class="inner-column">
                    <div class="container-vote" title="Like">
                        <div class="number-vote">
                            <i class="fa-regular fa-thumbs-up" style="color: #000000;" id="likeIcon"></i>
                        </div>
                        <div class="number-vote" id="postVote">
                            <!-- Number Of Vote Like -->
                        </div>
                    </div>
                </div>
                
                <div class="inner-column">
                    <div class="container-vote" title="Dislike">
                        <div class="number-vote">
                            <i class="fa-regular fa-thumbs-down" style="color: #000000;" id="dislikeIcon"></i>
                        </div>
                        <div class="number-vote" id="postVote2">
                            <!-- Number Of Vote Dislike -->
                        </div>
                    </div>
                </div>
                
                
                <div class="inner-column">
                    <div class="container-tag" title="Category">
                        <div class="tag-category">
                            <h2 >
                                Category: 
                            </h2>
                        </div>  
                        <div class="container-tag-hover">
                            <div class="tag-category">
                                <i class="fa-solid fa-hashtag";></i>
                            </div>
                            <div class="tag-category" id="postCategory">
                                <!-- Tag Category -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="inner-column">
                    <div class="container-tag" title="Tag">
                        <div class="tag-category">
                            <h2 >
                                Tag: 
                            </h2>
                        </div>
                        <div class="container-tag-hover">
                            <div class="tag-category">
                                <i class="fa-solid fa-hashtag";></i>
                            </div>
                            <div class="tag-category" id="postTag">
                                <!-- Post Tag -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Button -->
            <div class="column" style="background-color: white;">

                <!-- Button Give Award -->
                <div class="inner-column" title="Give Award Post">
                    <form class="form" id="createAward">
                        <div class="flex flex-row">
                            <label for="">
                                <select style="width: 210px;" id="AwardType" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5">
                                    <option selected>Award Type</option>
                                </select>
                            </label>
                            <button id="button-give-award" style="background-color: green; color: white; margin-left: 10px; width: 140px;" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5">Give Award</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Button -->
            <div class="column" style="background-color: white;">

                <!-- Button Report -->
                <div class="inner-column" title="Report Post">
                    <form class="form">
                        <div class="flex flex-row">
                            <button id="reportButton" style="background-color: red; color: white; width: 140px;" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5">Report</button>
                        </div>
                    </form>
                </div>

                <!-- <div class="column" style="background-color: white;">
                    <div class="inner-column" title="Report Post">
                        <div class="container-vote">
                            <div>
                                <select id="violationRule" class=" bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-50 p-2.5" multiple>
                                    <option selected>Violation Type</option>
                                </select>
                            </div>
                            <div class="button-report">
                                <button id="reportButton">Report</button>
                            </div>
                        </div>
                    </div>
                </div> -->
                <!-- Ver1 Fix Eror -->
            </div>

            <!-- <div class="column" style="background-color: white;">
                <button id="reportButton" style="background-color: red; color: white; width: 100px;" class="bg-gray-50 border border-gray-300 text-gray-900 text-lg rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5">Report</button>
            </div> -->
        </div>

        <!-- IMG Bên Ngoài Mang Vào -->
        <div class="wapper-title-img">
            <div class="column-img">
                <div class="img">
                    <img class="object-cover w-full rounded-t-lg h-96 md:h-auto md:w-48 md:rounded-none md:rounded-l-lg" id="postMedia" onclick="toggleFullScreen()">
                </div>
            </div>
        </div>

        <div class="wapper-title-img">
            
            <div class="column-img">

            </div>

            <script>
                function toggleFullScreen() {
                    const imgElement = document.getElementById('postMedia');
                    
                    // Create a new image element to avoid moving the original one
                    const fullScreenImage = new Image();
                    fullScreenImage.src = imgElement.src;
                    fullScreenImage.className = 'object-cover fullscreen';
                    fullScreenImage.onclick = closeFullScreen;
        
                    // Append the new image to the body
                    document.body.appendChild(fullScreenImage);
        
                    // Listen for scroll events
                    window.addEventListener('scroll', closeFullScreenOnScroll);
                }
        
                function closeFullScreen() {
                    const fullScreenImage = document.querySelector('.fullscreen');
                    
                    // Remove the full-screen image from the body
                    fullScreenImage.parentNode.removeChild(fullScreenImage);
        
                    // Remove the scroll event listener
                    window.removeEventListener('scroll', closeFullScreenOnScroll);
                }
        
                function closeFullScreenOnScroll() {
                    closeFullScreen();
                }
            </script>
    
            <style>
                .wapper-title-img {
                    display: flex;
                    justify-content: center;
                }
    
                .column-img {
                    margin: 10px;
                }
    
                .img {
                    overflow: hidden;
                }
    
                .object-cover {
                    transition: width 0.3s ease, height 0.3s ease;
                    cursor: pointer;
                }
    
                .fullscreen {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100vw;
                    height: 100vh;
                    object-fit: contain;
                    z-index: 99999;
                    background-color: whitesmoke;
                    transition: width 0.3s ease, height 0.3s ease; /* Adjust duration as needed */
                }
            </style>
        </div>

        <!-- Post Content -->
        <div class="wapper-title-post">
            <div class="column">
                <p class="postContent" id="postContent"></p>
            </div>
            <div>
                <h5 id="postCategory"></h5>
            </div>
        </div>

        <!-- Comment -->
        <div class="wapper-title-comment">
            <div class="column-comment">
                <section class="bg-white dark:bg-gray-900 py-8 lg:py-16 antialiased">

                    <div class="max-w-2xl mx-auto px-4">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-lg lg:text-2xl font-bold text-gray-900 dark:text-white">Discussion</h2>
                        </div>
                        <form class="mb-6" id="comment">
                            <div
                                class="py-2 px-4 mb-4 bg-white rounded-lg rounded-t-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700">
                                <label for="comment" class="sr-only">Your comment</label >
                  
                                <input class="px-0 w-full text-sm text-gray-900 border-0 focus:ring-0 focus:outline-none dark:text-white dark:placeholder-gray-400 dark:bg-gray-800" 
                                type="text" name="comment" placeholder="Write a comment..." id="cmt" rows class="input-control" required>
                            </div>
                            <button type="submit"
                                class="inline-flex items-center py-2.5 px-4 text-xs font-medium text-center bg-primary-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800">
                                Post comment
                            </button>
                        </form>

                        <!-- display comments -->
                        <div id="commentContainer">
                        </div>
                        
                    </div>
                </section>
            </div>
        </div>

    </Main>

    <!-- footer  -->
    <footer class="bg-white rounded-lg shadow dark:bg-gray-900" id="footer">
        <div class="w-full max-w-screen-xl mx-auto p-4 md:py-8">
            <div class="sm:flex sm:items-center sm:justify-between">
                <a href="https://flowbite.com/" class="flex items-center mb-4 sm:mb-0">
                    <img src="./img/Logo.png" class="h-8 mr-3" alt="Logo" />
                    <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">FPT Blog</span>
                </a>
                <ul
                    class="flex flex-wrap items-center mb-6 text-sm font-medium text-gray-500 sm:mb-0 dark:text-gray-400">
                    <li>
                        <a href="#" class="mr-4 hover:underline md:mr-6 ">About</a>
                    </li>
                    <li>
                        <a href="#" class="mr-4 hover:underline md:mr-6">Privacy Policy</a>
                    </li>
                    <li>
                        <a href="#" class="mr-4 hover:underline md:mr-6 ">Licensing</a>
                    </li>
                    <li>
                        <a href="#" class="hover:underline">Contact</a>
                    </li>
                </ul>
            </div>
            <hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8" />
            <span class="block text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2023 <a
                    href="https://flowbite.com/" class="hover:underline">FPT Blog</a>. All Rights Reserved.</span>
        </div>
    </footer>

    <script type="module" src='./js/postDetail.js'></script>
</body>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</html>